/*
 * Copyright (C) 2009-2021 SAP SE or an SAP affiliate company. All rights reserved.
 */
sap.ui.define(["hcm/fab/myleaverequest/utils/utils","sap/ui/model/odata/type/Decimal","sap/ui/core/format/DateFormat","sap/ui/core/format/NumberFormat","sap/ui/core/format/FileSizeFormat","sap/ui/core/LocaleData","hcm/fab/lib/common/util/DateUtil"],function(u,D,d,N,F,L,e){"use strict";function f(a,b){if(a===b){return a;}var c=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale(),z1=L.getInstance(c).getIntervalPattern("d - d");z1=z1.replace("{0}",a);z1=z1.replace("{1}",b);return z1;}function g(a,b){var c=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale(),z1=L.getInstance(c).getIntervalPattern("t - t");var A1=d.getTimeInstance({style:"short"}),B1=A1.parse(a),C1=A1.parse(b);if(!B1||!C1){return"";}else{var D1=A1.format(B1),E1=A1.format(C1);z1=z1.replace("{0}",D1);z1=z1.replace("{1}",E1);return z1;}}function h(a){return e.convertToLocal(a);}function i(a,b){if(a&&b){var c=d.getDateInstance().parse(a),z1=d.getTimeInstance().parse(b),A1=new Date(c.getFullYear(),c.getMonth(),c.getDate(),z1.getHours(),z1.getMinutes(),z1.getSeconds());return d.getDateTimeInstance({style:"medium/short",relative:false}).format(A1);}return null;}function j(a,b){if(a&&b){var c=d.getTimeInstance().parse(b),z1=new Date(a.getFullYear(),a.getMonth(),a.getDate(),c.getHours(),c.getMinutes(),c.getSeconds());return d.getDateTimeInstance({style:"medium/short",relative:false}).format(z1);}return null;}function k(a,b){if(a&&b){var c=d.getTimeInstance().parse(b),z1=new Date(a.getFullYear(),a.getMonth(),a.getDate(),c.getHours(),c.getMinutes(),c.getSeconds());return d.getDateTimeInstance({style:"medium/short",relative:false}).format(e.convertToUTC(z1));}return null;}function l(){var a=d.getTimeInstance({style:"short"});return a.oFormatOptions.pattern;}function m(a){return a==="0"?null:a;}function n(a,b){return jQuery.sap.formatMessage(a,[b,b]);}function o(a,b){if(!a){return null;}if(a.getDate()===31&&a.getMonth()===11&&a.getFullYear()===9999){return b;}return d.getDateInstance().format(a);}function p(a,b,c){if(!a&&!b){return null;}var z1=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale(),A1=L.getInstance(z1).getIntervalPattern("d - d"),B1=d.getDateInstance().parse(a),C1=d.getDateInstance().parse(b),D1=B1.getDate()===1&&B1.getMonth()===0&&B1.getFullYear()===1800,E1=C1.getDate()===31&&C1.getMonth()===11&&C1.getFullYear()===9999;if(D1&&E1){return"";}A1=A1.replace("{0}",a);A1=A1.replace("{1}",E1?c:b);return A1;}function q(a,b,c){if(!b&!c){return"";}else{return jQuery.sap.formatMessage.apply(this,arguments);}}function r(c){return this.getResourceBundle().getText("items",[c]);}function s(a){return this.getResourceBundle().getText("items",[a.length]);}function t(c){var a=(c===1)?"itemsAccSingle":"itemsAccPlural";return this.getResourceBundle().getText(a,[c]);}function v(a,b,c){var z1=m(b);return q(a,z1,c);}function w(a){var b=parseFloat(a);if(b>0){return sap.ui.core.ValueState.Success;}else if(b<0){return sap.ui.core.ValueState.Error;}else{return sap.ui.core.ValueState.None;}}function _(a,b,c,z1){switch(b){case"001":return a===1?c.getText("hourTxt"):c.getText("hoursTxt");case"010":return a===1?c.getText("dayTxt"):c.getText("daysTxt");default:return z1;}}function x(a,b,c){return _(parseFloat(a),b,this.getResourceBundle(),c);}function y(a,b,c){if(a&&b){return this.getResourceBundle().getText("leaveDurTextWCode",[a,_(a,b,this.getResourceBundle(),c)]);}return null;}function z(a){var b=parseFloat(a);if(!isNaN(b)){var c=N.getFloatInstance({minFractionDigits:0,maxFractionDigits:2});return c.format(b);}return a;}function A(a){if(a){return this.getResourceBundle().getText("leaveDurTextWCode",[z(a),_(parseFloat(a),"010",this.getResourceBundle())]);}return null;}function B(a){if(a){return this.getResourceBundle().getText("leaveDurTextWCode",[z(a),_(parseFloat(a),"001",this.getResourceBundle())]);}return null;}function C(a){if(a){var b=parseFloat(a);return _(b,"001",this.getResourceBundle());}return null;}function E(a){switch(a){case"POSTED":case"APPROVED":return"Type08";case"SENT":return"Type01";case"REJECTED":return"Type03";default:return"Type06";}}function G(a){switch(a){case"POSTED":case"APPROVED":return sap.ui.core.ValueState.Success;case"SENT":return sap.ui.core.ValueState.Warning;case"REJECTED":return sap.ui.core.ValueState.Error;default:return sap.ui.core.ValueState.None;}}function H(a){return!!a;}function I(a,b){return!!a||!!b;}function J(b,a){return b===1&&!!a;}function K(b,a){return b===1&&!a;}function M(b,a){if(a){if(b===0){return true;}else{return false;}}else{return false;}}function O(b,a,c,z1,A1){if(A1){if(b===1&&!!a){if(c||z1){return false;}else{return true;}}else{return false;}}else{return false;}}function P(b,a,c,z1,A1){if(A1){if(b===1&&!!a){if(c&&!z1){return true;}else{return false;}}else{return false;}}else{return false;}}function Q(b,a,c,z1,A1){if(A1){if(b===1){if(z1){return true;}else{return false;}}else{return false;}}else{return false;}}function R(b,a){if(b===1&&!!a){return true;}else{return false;}}function S(b,a,c){if(b===1&&!!a){if(c){return true;}else{return false;}}else{return false;}}function T(b,a,c){if(b===1&&!!a){if(c){return false;}else{return true;}}else{return false;}}function U(a){var b=new Date(0,0);if(a===undefined){a=null;}b.setMinutes(Math.round(+a*60));return d.getTimeInstance({style:"short",relative:false,pattern:"HH:mm"}).format(b);}function V(b,a,c,z1){if(!b){return c;}return a>1?z1:c;}function W(a){return!!(a==="N");}function X(a,b){return!!(a&&b);}function Y(a,b,c){return X(a,b)&&!c;}function Z(a,b,c){return X(a,b)&&!c;}function $(a,b,c){return X(a,b)&&c;}function a1(a,b,c){return!(X(a,b)&&c);}function b1(a){if(a>0){return true;}else{return false;}}function c1(){return!X.apply(this,arguments);}function d1(c){var a=["EmployeeId","EmployeeName","Text","Date","Time","Timezone"];var b=[];if(c){b=c.split("::NEW::").filter(function(z1){return z1.length>0;}).map(function(z1){var A1={};z1.split("::::").forEach(function(B1,C1){var D1=a[C1];A1[D1]=B1;});return A1;});}return b;}function e1(a){return d1(a);}function f1(a){return!!(a&&a.indexOf("::")>=0);}function g1(a,b){if(b===null||b===""){return this.getResourceBundle().getText("noDeducPossible");}if(!b){return a;}var c=parseFloat(a);if(!isNaN(c)){var z1=z(a);if(c===1){return this.getResourceBundle().getText("usedWorkingTimeSingular",[z1,b]);}else{return this.getResourceBundle().getText("usedWorkingTimePlural",[z1,b]);}}return a;}function h1(a){if(a>0){if(a===1){return this.getResourceBundle().getText("calendarHasOverlapsSingular",[a]);}else{return this.getResourceBundle().getText("calendarHasOverlaps",[a]);}}else{return this.getResourceBundle().getText("calendarNoOverlaps");}}function i1(a,b,c){if(b===false){return this.getResourceBundle().getText("noQuotaRelevance");}var z1=parseFloat(a);if(!isNaN(z1)){var A1=z(a);if(z1===1){return this.getResourceBundle().getText("availableTxt",[A1,c]);}else{return this.getResourceBundle().getText("availableTxtPlural",[A1,c]);}}return a;}function j1(a){return jQuery.sap.encodeHTML(a);}function k1(a,b,c,z1){return this.getModel().sServiceUrl+["/FileAttachmentSet(EmployeeID='"+a+"'","LeaveRequestId='"+b+"'","ArchivDocId='"+c+"'","FileName='"+jQuery.sap.encodeURL(z1)+"')/$value"].join(",");}function l1(a,b,c){return!a&&X(b,c);}function m1(a,b,c){if(!X(a,b)){return false;}return c===2;}function n1(a,b,c){if(!X(a,b)){return false;}return c===3;}function o1(a,b,c){if(!X(a,b)){return false;}return c===4;}function p1(a,b,c){if(!X(a,b)){return false;}return c===5;}function q1(a,b,c,z1){if(!X(a,b)){return false;}return c===1&&c<z1;}function r1(a,b,c,z1){if(!X(a,b)){return false;}return c===2&&c<z1;}function s1(a,b,c,z1){if(!X(a,b)){return false;}return c===3&&c<z1;}function t1(a,b,c,z1){if(!X(a,b)){return false;}return c===4&&c<z1;}function u1(a){var b=parseFloat(a)*1024;return F.getInstance({binaryFilesize:true,maxFractionDigits:1,maxIntegerDigits:3}).format(b);}function v1(b,a){if(b&&a&&typeof a==="string"){var c="",z1=document.createElement("a"),A1=function(B1){return B1.replace(new RegExp("'","g"),"%27");};z1.href=a;c=(z1.pathname.charAt(0)==="/")?z1.pathname:"/"+z1.pathname;return A1(c);}return"";}function w1(b,a,c,z1){var A1=a?parseInt(z1,10).toString():z1;if(sap.ui.Device.system.desktop&&z1&&b){return c+" ("+A1+")";}return c;}function x1(a,c){if(a.desktop===true&&c<100){return false;}else{return true;}}function y1(a){if(a.desktop===true){return 100;}else{return 15;}}return{localMessageFormatter:q,getListItemStatus:G,getCalendarTypeFromStatus:E,itemCountFormatter:r,itemCountFormatterAccessibility:t,itemCountFormatterAttachments:s,getSingleOrMultipleApproverLabel:V,isRemoveApproverLvl2ButtonEnabled:m1,isRemoveApproverLvl3ButtonEnabled:n1,isRemoveApproverLvl4ButtonEnabled:o1,isRemoveApproverLvl5ButtonEnabled:p1,isAddApproverLvl1ButtonEnabled:q1,isAddApproverLvl2ButtonEnabled:r1,isAddApproverLvl3ButtonEnabled:s1,isAddApproverLvl4ButtonEnabled:t1,availableDays:z,usedTimeVisibility:b1,isGroupEnabled:X,isGroupDisabled:c1,formatNotes:e1,isOldNotesVisible:f1,isAdditionalFieldInputInteger:W,isAdditionalFieldEnabled:l1,isMoreThanOneDayAllowed:H,isOneDayOrLessAllowed:I,isTimeRangeAllowed:J,isTimeRangeNotAllowed:K,isCalculationSpanAvailableAfterDateRange:M,isCalculationSpanAvailableAfterDatePicker:O,isCalculationSpanAvailableAfterTimeRange:P,isCalculationSpanAvailableAfterHourInput:Q,isTimePickerAvailable:R,isTimePickerEnabled:Z,isTraditionalHoursAvailable:T,isInputHoursAvailable:S,isInputHoursEnabled:Y,isAttachmentUploadEnabled:$,isAttachmentUploadDisabled:a1,formatFeedTimeStamp:i,formatAttachmentTimeStamp:k,formatCreationTimeStamp:j,formatOverviewLeaveDates:f,formatUsedQuota:m,formatUsedQuotaAttribute:v,formatTimeAccountTypeText:n,formatTimeAccountValidity:p,formatTimeAccountValidityEnd:o,formatEntitlementStatus:w,displayTimeShort:l,formatTimeToShortLocale:g,formatDateUTCToDateLocal:h,getCalendarOverlapText:h1,formatQuotaUsage:g1,formatQuotaAvailability:i1,formatNoteText:j1,formatAttachmentUrl:k1,formatEntitlementTimeunit:x,formatEntitlementTimeunitText:y,formatPlannedWorkingDays:A,formatPlannedWorkingHours:B,formatPlannedWorkingHoursText:C,formatFileSize:u1,formatImageURL:v1,formatObjectTitle:w1,convertIndustrialHours:U,formatGrowing:x1,formatGrowingThreshold:y1};},true);
